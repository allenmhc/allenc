// Common class styles.

.title-separator {
  display: inline-block;
  width: 1px;
  position: relative;
}

// Spine styles.
$spine-marker-height: 13px;
$spine-title-padding: 20px;
$spine-padding: 60px;
.spine-left {
  border-left: 1px solid white(0.6);
}

.spine-spacer {
  width: 100%;
  height: $spine-marker-height;
}

.spine-extrude {
  position: relative;
  &:after {
    width: 100%;
    height: 1px;
    @include background(linear-gradient(left, white(0.6) 0%, white(0.4) 60%, white(0.0) 100%));
    content: "";
    display: block;
    position: absolute;
    top: 65px + 1px;
    left: 0;
  }
}

.spine-extrude-diagonal {
  position: relative;
  &:before {
    width: 85px;
    height: 85px;
    border-top: 1px solid white(0.6);
    @include rotate(45deg);
    content: "";
    display: block;
    position: absolute;
    top: 47px;
    left: -42px;
  }
  &:after {
    width: 1px;
    height: 30px;
    content: "";
    display: block;
    position: absolute;
    top: 104px + 7 * 48px;
    left: 60px;
    @include background(linear-gradient(white(0.6) 0%, white(0.0) 100%));
  }
}

.spine-content {
  padding-top: 50px;
  padding-left: $spine-padding;
}

.spine-title {
  position: relative;
  padding-left: $spine-title-padding;
  &:before, &:after {
    position: absolute;
    height: 4px;
    left: 0;
    border-left: 1px solid white(0.6);
    content: "";
    display: block;
  }
  &:before {
    top: 0;
    height: 5px;
  }
  &:after { top: $spine-marker-height + 5px; }

  .spine-marker {
    box-sizing: border-box;
    position: absolute;
    top: 5px;
    left: -6px;
    width: $spine-marker-height;
    height: $spine-marker-height;
    border: 2px solid white(0.6);
    @include border-radius(floor($spine-marker-height / 2));
    content: "";
    display: block;
    @include box-shadow(0 0 10px white(0.8));
  }
}

@mixin spine-interaction($color) {
  .title-separator {
    @include background(linear-gradient(
      rgba($color, 0) 0%,
      rgba($color, 0.7) 30%,
      rgba($color, 0.7) 70%,
      rgba($color, 0) 100%))
  }
  &:hover {
    .spine-marker {
      background: rgba($color, 0.7);
    }
  }
  &:active {
    .spine-marker {
      background: rgba($color, 0.9);
      @include box-shadow(0 0 10px rgba($color, 0.8));
    }
  }
}

// Spine section colors.
.section-title {
  .spine-home & { @include spine-interaction($color-home); }
  .spine-articles & { @include spine-interaction($color-articles); }
  .spine-archives & { @include spine-interaction($color-archives); }
  .spine-about & { @include spine-interaction($color-about); }
}
